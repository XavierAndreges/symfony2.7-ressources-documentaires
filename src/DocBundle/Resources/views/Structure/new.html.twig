{% extends '::base.html.twig' %}


{% block stylesheets %}
	
	<script type="text/javascript" src="{{ asset('js/jquery.js') }}"></script>
	<script type="text/javascript" src="{{ asset('js/jquery-ui.js') }}"></script>
	<script type="text/javascript" src="{{ asset('js/datePikcker-lang.js') }}"></script>

	<link rel="stylesheet" href="{{ asset('css/jquery-ui.css') }}" type="text/css" />

{% endblock %}


{% block body -%}

    <h1>Structure creation</h1>

	<div class="well">

	  	{{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}


		    {{ form_errors(form) }}


		    <div class="form-group">

			      {{ form_label(form.name, "Nom", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}

			      {{ form_errors(form.name) }}

			      <div class="col-sm-4">
			        {{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}
			      </div>

		    </div>

		    <div class="form-group">

			      {{ form_label(form.functionFr, "functionFr", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}

			      {{ form_errors(form.functionFr) }}

			      <div class="col-sm-4">
			        {{ form_widget(form.functionFr, {'attr': {'class': 'form-control'}}) }}
			      </div>

		    </div>


			<div class="form-group">

		      {{ form_label(form.functionEn, "functionEn", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}

		      {{ form_errors(form.functionEn) }}

		      <div class="col-sm-4">
		        {{ form_widget(form.functionEn, {'attr': {'class': 'form-control'}}) }}
		      </div>

		    </div>


			<div class="form-group">

		      {{ form_label(form.city, "Ville", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}

		      {{ form_errors(form.city) }}

		      <div class="col-sm-4">
		        {{ form_widget(form.city, {'attr': {'class': 'form-control'}}) }}
		      </div>

		    </div>


		    <div class="form-group">

		      {{ form_label(form.geoloc, "Geolocalisation", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}

		      {{ form_errors(form.geoloc) }}

		      <div class="col-sm-4">
		        {{ form_widget(form.geoloc, {'attr': {'class': 'form-control'}}) }}
		      </div>

		    </div>



		    <div class="form-group">

		      {{ form_label(form.website, "Site web", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}

		      {{ form_errors(form.website) }}

		      <div class="col-sm-4">
		        {{ form_widget(form.website, {'attr': {'class': 'form-control'}}) }}
		      </div>

		    </div>


		    <div class="form-group">

		      {{ form_label(form.dateStart, "dateStart", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}

		      {{ form_errors(form.dateStart) }}

		      <div class="col-sm-4">
		        {{ form_widget(form.dateStart, {'attr': {'class': 'form-control'}}) }}
		      </div>

		    </div>


		    <div class="form-group">

		      {{ form_label(form.dateEnd, "dateEnd", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}

		      {{ form_errors(form.dateEnd) }}

		      <div class="col-sm-4">
		        {{ form_widget(form.dateEnd, {'attr': {'class': 'form-control'}}) }}
		      </div>

		    </div>


		    <div class="form-group">

		      {{ form_label(form.tags, "tags", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}

		      {{ form_errors(form.tags) }}

		      <div class="col-sm-4">
		        {{ form_widget(form.tags, {'attr': {'class': 'tags'}}) }}
		      </div>

		    </div>



		    <div class="form-group">

		      {{ form_label(form.uploadedFiles, "uploadedFiles", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}

		      {{ form_errors(form.uploadedFiles) }}

		      <div id="block_image" class="col-sm-4">

			      	{% for file in entity.files %}
	                	<a class="delete_file" id="file_{{ file.id }}" href="javascript: file_delete({{ file.id }})" onclick="return confirm('are u sure?')">
	                		<img src=" {{ asset('assets/close.png') }}" class="close_cross" />
	                		<img src=" {{ asset('files/' ~ file.fileName ) }}" class="image absoluteIndex" />
	                	</a>
	            	{% endfor %}	

	            	<div class="row">
	            		<div class="col-sm-12">
			            	<label class="myLabel">
		    					<input type="file" id="docbundle_structure_uploadedFiles" name="docbundle_structure[uploadedFiles][]" multiple="multiple" class="form-control">
		    					<span>Ajouter des fichiers</span>
							</label>
						</div>
					</div>

            	</div>

		    </div>


			<div class="row">

				<div class="col-sm-3">
					<a href="{{ path('structure') }}">
            			Back to the list
        			</a>
		    	</div>

				<div class="col-sm-4">
		    		{{ form_widget(form.submit, {'attr': {'class': 'btn btn-primary'}}) }}
		    	</div>

		    </div>


		{{ form_row(form._token) }}

		{{ form_end(form, {'render_rest': false}) }}


	</div>

{% endblock %}


{% block javascripts %}

	<script>

	$( function() {
        $("#docbundle_structure_dateStart").datepicker($.datepicker.regional['fr']);
        $("#docbundle_structure_dateEnd").datepicker($.datepicker.regional['fr']);
        });

    </script>
	
{% endblock %}

